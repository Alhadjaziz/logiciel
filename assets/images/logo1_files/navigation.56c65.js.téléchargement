(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1173:function(a,n,e){"use strict";e.r(n);var i=e(1),t=e.n(i),o=e(13),r=e(9),d=e(22),s=e(7);e(345);function l(a,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}var c="[data-px-header]",v="[data-navigation-wrapper]",u="[data-navigation-first-level-item]",f="[data-mobile-navigation-first-level-item-login]",w="[data-mobile-navigation-first-level-item-my-pixum]",g="[data-navigation-first-level-item-link]",p="[data-navigation-wrapper] [data-navigation-second-level-item-link]",h="[data-navigation-wrapper] .navi-additional-links a",m="[data-offcanvas]",k="[data-custom-arrow-back]",y="[data-nav-download-hps]",b="[data-nav-download-app]",T="new_navigation_2019",C="navigation_2019_mobil",D="hide",A="visible",M="is-active",_=function(){function a(){!function(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a),this.isAuthenticated=!o.authService.isRoleAnonymous()}var n,i,_;return n=a,(i=[{key:"initialize",value:function(){var a=this;"2"===PIXUM_ENV.UA_DEVICE_CATEGORY_ID&&window.innerHeight>window.innerWidth==1&&d.a.publish("viewChange",{lastView:"landscape",currentView:"portrait"}),d.a.subscribe("viewChange",(function(n){if(""===Foundation.MediaQuery.current&&Foundation.MediaQuery._init(),n.currentView!==n.lastView||"3"===PIXUM_ENV.UA_DEVICE_CATEGORY_ID&&!Foundation.MediaQuery.atLeast("xlarge")){var i=T;Foundation.MediaQuery.atLeast("xlarge")||(i=C),s.a.getCMSContent(i).then((function(n){t()("[data-new-navigation-wrapper]").html(n),t()("[data-dropdown-menu]").foundation(),t()(".new-navigation [data-off-canvas]").foundation(),t()("[data-navigation-third-level-wrapper] [data-dropdown]").foundation(),a.initializeDropdownEvents(),e.e(0).then(e.bind(null,347)).then((function(n){a.miniCart=(new n.default).initialize()}))}))}})),this.initializeDropdownEvents(),this.initializeTracking()}},{key:"initializeDropdownEvents",value:function(){var a=this;t()(m).on("opened.zf.offcanvas",(function(n){a.handleRenderingNavigationThumbnails(t()(n.currentTarget).find("[data-lazy-bg-navigation]")),s.a.isDesktop()||(t()("#offCanvasLeft").css("height","100%"),t()("#offCanvasLeft").css("scroll-margin-top","60px"),t()(".main").css("display","none"),s.a.checkAndHideTrustedshopBadge()),a.showMobileNavItemsBasedOnAuthStatus(n),a.closeSecondLevelMobileMenu(),a.showArrowBackOnMobileMenu()})),t()(m).on("closed.zf.offcanvas",(function(){s.a.isDesktop()||(t()(".new-navigation").removeClass("offcanvas-open"),t()("body").css("overflow","initial"),t()("html").css("overflow","initial"),t()(".main").css("display","block"),s.a.checkAndShowTrustedshopBadge())})),t()(document).on("show.zf.dropdownmenu",(function(){t()("[data-navigation-wrapper]").addClass("navi-level2-open"),t()(".js-dropdown-active").length>0&&a.handleRenderingNavigationThumbnails(t()(".js-dropdown-active").find("[data-lazy-bg-navigation]"))})),t()(".new-navigation [data-dropdown-menu]").on("hide.zf.dropdownmenu",(function(){t()("[data-navigation-wrapper]").removeClass("navi-level2-open")})),PIXUM_ENV.MODULE_THIRD_LEVEL_NAVIGATION&&(t()("[data-navigation-third-level-wrapper] .navigation-third-level-dropdown li").on("touchstart",(function(a){a.preventDefault();var n=t()(a.currentTarget).find("a").attr("href");""!==n&&(window.location.href=n)})),t()("[data-navigation-third-level-wrapper] [data-dropdown]").on("show.zf.dropdown",(function(a){t()(a.currentTarget).closest("[data-toggle]").find("i").removeClass("arrowDown").addClass("arrowUp"),t()(".new-navigation .reveal-overlay").show()})).on("hide.zf.dropdown",(function(a){t()(a.currentTarget).closest("[data-toggle]").find("i").removeClass("arrowUp").addClass("arrowDown"),t()(".new-navigation .reveal-overlay").hide()})),t()("body .reveal-overlay").on("touchstart",(function(n){n.preventDefault(),a.closeDropdown()})),Foundation.MediaQuery.atLeast("xlarge")||t()(window).on("scroll",(function(){a.closeDropdown(),setTimeout((function(){a.setSticky()}),50)}))),s.a.isAT()&&this.maskNavigationSoftwareDownloadLink()}},{key:"closeDropdown",value:function(){t()("[data-navigation-third-level-wrapper]  [data-dropdown]").length>0&&t()("[data-navigation-third-level-wrapper]  [data-dropdown]").foundation("close")}},{key:"setSticky",value:function(){t()(window).scrollTop()>70?t()(".navigation-third-level-wrapper").addClass("sticky-bar"):t()(".navigation-third-level-wrapper").removeClass("sticky-bar")}},{key:"handleAvoidingInfiniteScrolling",value:function(){t()(".new-navigation").addClass("offcanvas-open");var a=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);t()("body").css("overflow","hidden"),!0===a&&t()("html").css("overflow","hidden"),s.a.checkAndHideTrustedshopBadge()}},{key:"handleRenderingNavigationThumbnails",value:function(a){a.length>0&&this.renderBackgroundImages(a)}},{key:"initializeTracking",value:function(){var a=s.a.parseUrl().host+s.a.parseUrl().path;t()("body").on("click","".concat(p),(function(n){var e=n.currentTarget.innerText.trim(),i=t()(n.target).closest("".concat(v," ").concat(u)).find(g).text().trim();r.a.event("Navigation","".concat(i," - ").concat(e),a)})).on("touchstart click","".concat(v," ").concat(g),(function(n){var e=n.currentTarget;s.a.isDesktop()||(t()(".off-canvas-list").css("height",t()(window).height()),t()(".is-drilldown-submenu").css("min-height","600px")),r.a.event("Navigation",e.innerText.trim(),a)})).on("click","".concat(h),(function(n){var e=n.currentTarget.innerText.trim(),i=t()(n.target).closest("".concat(v," ").concat(u)).find(g).text().trim();r.a.event("Navigation","".concat(i," - ").concat(e),a)}))}},{key:"renderBackgroundImages",value:function(a){t.a.each(a,(function(a,n){t()(n).css("background-image","url(".concat(t()(n).data("lazy-bg-navigation"),")")),t()(n).removeAttr("data-lazy-bg-navigation")}))}},{key:"showMobileNavItemsBasedOnAuthStatus",value:function(a){var n=t()(a.currentTarget).find(w),e=t()(a.currentTarget).find(f);this.isAuthenticated?(n.removeClass(D),n.addClass(A)):(e.removeClass(D),e.addClass(A))}},{key:"closeSecondLevelMobileMenu",value:function(){var a=t()(m).find(k),n=a.parent("ul");a.on("click",(function(){return n.removeClass(M)}))}},{key:"showArrowBackOnMobileMenu",value:function(){var a=!s.a.isDesktop(),n=t()(m).find(c),e=t()(m).find(k),i=e.find("a");a&&n&&e&&(i.removeClass(D),i.addClass(A))}},{key:"maskNavigationSoftwareDownloadLink",value:function(){var a=PIXUM_ENV.SOFTWARE_DOWNLOAD_LINK,n=a.HPS,e=a.APP,i=!s.a.isDesktop(),o=t()(m).find(c),r=t()(m).find(y),d=t()(m).find(b),l=i&&!!o&&!!d&&!!e;!i&&o&&r&&n?r.on("click",(function(){return s.a.redirectTo(n)})):l&&d.on("click",(function(){return s.a.redirectTo(e)}))}}])&&l(n.prototype,i),_&&l(n,_),a}();n.default=(new _).initialize()}}]);